---
outline: [2, 4]
---

# ç¬¬ 5 ç«  åŸºæœ¬å¼•ç”¨ç±»å‹

## 5.1 Date

```javascript
let now = new Date()
```

åœ¨ä¸ç»™ `Date` æ„é€ å‡½æ•°ä¼ å‚æ•°çš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºçš„å¯¹è±¡å°†ä¿å­˜å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚è¦åŸºäºå…¶ä»–æ—¥æœŸå’Œæ—¶é—´åˆ›å»ºæ—¥æœŸå¯¹è±¡ï¼Œå¿…é¡»ä¼ å…¥å…¶æ¯«ç§’è¡¨ç¤ºï¼ˆUNIX çºªå…ƒ 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œä¹‹åçš„æ¯«ç§’æ•°ï¼‰â€‹ã€‚ECMAScript ä¸ºæ­¤æä¾›äº†ä¸¤ä¸ªè¾…åŠ©æ–¹æ³•ï¼š`Date.parse()`å’Œ `Date.UTC()`ã€‚

`Date.parse()`æ–¹æ³•æ¥æ”¶ä¸€ä¸ªè¡¨ç¤ºæ—¥æœŸçš„å­—ç¬¦ä¸²å‚æ•°ï¼Œå°è¯•å°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºè¡¨ç¤ºè¯¥æ—¥æœŸçš„æ¯«ç§’æ•°ã€‚

â‘ æœˆ/æ—¥/å¹´â€â€‹ï¼Œå¦‚"5/23/2019"ï¼›<br />
â‘ â€œæœˆåæ—¥ï¼Œå¹´â€â€‹ï¼Œå¦‚"May 23, 2019"ï¼›<br />
â‘ â€œå‘¨å‡  æœˆå æ—¥ å¹´ æ—¶ï¼šåˆ†ï¼šç§’ æ—¶åŒºâ€â€‹ï¼Œå¦‚"Tue May 232019 00:00:00 GMT-0700"ï¼›<br />
â‘ ISO 8601 æ‰©å±•æ ¼å¼â€œYYYY-MM-DDTHH:mm:ss.sssZâ€â€‹ï¼Œå¦‚ 2019-05-23T00:00:00ï¼ˆåªé€‚ç”¨äºå…¼å®¹ ES5 çš„å®ç°ï¼‰â€‹ã€‚

å¦‚æœä¼ ç»™ `Date.parse()`çš„å­—ç¬¦ä¸²å¹¶ä¸è¡¨ç¤ºæ—¥æœŸï¼Œåˆ™è¯¥æ–¹æ³•ä¼šè¿”å› NaNã€‚å¦‚æœç›´æ¥æŠŠè¡¨ç¤ºæ—¥æœŸçš„å­—ç¬¦ä¸²ä¼ ç»™ `Date` æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆ `Date` ä¼šåœ¨åå°è°ƒç”¨ `Date.parse()`ã€‚

`Date.UTC()`æ–¹æ³•ä¹Ÿè¿”å›æ—¥æœŸçš„æ¯«ç§’è¡¨ç¤ºï¼Œä½†ä½¿ç”¨çš„æ˜¯è·Ÿ `Date.parse()`ä¸åŒçš„ä¿¡æ¯æ¥ç”Ÿæˆè¿™ä¸ªå€¼ã€‚ä¼ ç»™ `Date.UTC()`çš„å‚æ•°æ˜¯å¹´ã€é›¶èµ·ç‚¹æœˆæ•°ï¼ˆ1 æœˆæ˜¯ 0ï¼Œ2 æœˆæ˜¯ 1ï¼Œä»¥æ­¤ç±»æ¨ï¼‰â€‹ã€æ—¥ï¼ˆ1 ~ 31ï¼‰â€‹ã€æ—¶ï¼ˆ0 ~ 23ï¼‰â€‹ã€åˆ†ã€ç§’å’Œæ¯«ç§’ã€‚è¿™äº›å‚æ•°ä¸­ï¼Œåªæœ‰å‰ä¸¤ä¸ªï¼ˆå¹´å’Œæœˆï¼‰æ˜¯å¿…éœ€çš„ã€‚å¦‚æœä¸æä¾›æ—¥ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º 1 æ—¥ã€‚å…¶ä»–å‚æ•°çš„é»˜è®¤å€¼éƒ½æ˜¯ 0ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ `Date.UTC()`çš„ä¸¤ä¸ªä¾‹å­ï¼š

```javascript
// GMTæ—¶é—´2000å¹´1æœˆ1æ—¥é›¶ç‚¹
let y2k = new Date(Date.UTC(2000, 0))
// GMTæ—¶é—´2005å¹´5æœˆ5æ—¥ä¸‹åˆ5 ç‚¹55 åˆ†55 ç§’
let allFives = new Date(Date.UTC(2005, 4, 5, 17, 55, 55))
```

ä¸ `Date.parse()`ä¸€æ ·ï¼Œ`Date.UTC()`ä¹Ÿä¼šè¢« `Date` æ„é€ å‡½æ•°éšå¼è°ƒç”¨ï¼Œä½†æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šè¿™ç§æƒ…å†µä¸‹åˆ›å»ºçš„æ˜¯æœ¬åœ°æ—¥æœŸï¼Œä¸æ˜¯ GMT æ—¥æœŸã€‚

`Date.now()`æ–¹æ³•ï¼Œè¿”å›è¡¨ç¤ºæ–¹æ³•æ‰§è¡Œæ—¶æ—¥æœŸå’Œæ—¶é—´çš„æ¯«ç§’æ•°ã€‚

### 5.1.1 ç»§æ‰¿çš„æ–¹æ³•

`Date` ç±»å‹çš„ `toLocaleString()`æ–¹æ³•è¿”å›ä¸æµè§ˆå™¨è¿è¡Œçš„æœ¬åœ°ç¯å¢ƒä¸€è‡´çš„æ—¥æœŸå’Œæ—¶é—´ã€‚è¿™é€šå¸¸æ„å‘³ç€æ ¼å¼ä¸­åŒ…å«é’ˆå¯¹æ—¶é—´çš„ AMï¼ˆä¸Šåˆï¼‰æˆ– PMï¼ˆä¸‹åˆï¼‰â€‹ï¼Œä½†ä¸åŒ…å«æ—¶åŒºä¿¡æ¯ï¼ˆå…·ä½“æ ¼å¼å¯èƒ½å› æµè§ˆå™¨è€Œä¸åŒï¼‰â€‹ã€‚`toString()`æ–¹æ³•é€šå¸¸è¿”å›å¸¦æ—¶åŒºä¿¡æ¯çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œè€Œæ—¶é—´ä¹Ÿæ˜¯ä»¥ 24 å°æ—¶åˆ¶ï¼ˆ0~23ï¼‰è¡¨ç¤ºçš„

```javascript
console.log(date.toLocaleString()) // '2024/12/4 10:19:44'
console.log(date.toString()) // 'Wed Dec 04 2024 10:20:05 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'
```

`Date` ç±»å‹çš„ `valueOf()`æ–¹æ³•æ ¹æœ¬å°±ä¸è¿”å›å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ–¹æ³•è¢«é‡å†™åè¿”å›çš„æ˜¯æ—¥æœŸçš„æ¯«ç§’è¡¨ç¤ºã€‚

```javascript
console.log(date.valueOf()) // 1733278859535
```

### 5.1.2 æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•

Date ç±»å‹æœ‰å‡ ä¸ªä¸“é—¨ç”¨äºæ ¼å¼åŒ–æ—¥æœŸçš„æ–¹æ³•ï¼Œå®ƒä»¬éƒ½ä¼šè¿”å›å­—ç¬¦ä¸²ï¼š

â‘ `toDateString()`æ˜¾ç¤ºæ—¥æœŸä¸­çš„å‘¨å‡ ã€æœˆã€æ—¥ã€å¹´ï¼ˆæ ¼å¼ç‰¹å®šäºå®ç°ï¼‰â€‹ï¼›<br />
â‘ `toTimeString()`æ˜¾ç¤ºæ—¥æœŸä¸­çš„æ—¶ã€åˆ†ã€ç§’å’Œæ—¶åŒºï¼ˆæ ¼å¼ç‰¹å®šäºå®ç°ï¼‰â€‹ï¼›<br />
â‘ `toLocaleDateString()`æ˜¾ç¤ºæ—¥æœŸä¸­çš„å‘¨å‡ ã€æœˆã€æ—¥ã€å¹´ï¼ˆæ ¼å¼ç‰¹å®šäºå®ç°å’Œåœ°åŒºï¼‰â€‹ï¼›<br />
â‘ `toLocaleTimeString()`æ˜¾ç¤ºæ—¥æœŸä¸­çš„æ—¶ã€åˆ†ã€ç§’ï¼ˆæ ¼å¼ç‰¹å®šäºå®ç°å’Œåœ°åŒºï¼‰â€‹ï¼›<br />
â‘ `toUTCString()`æ˜¾ç¤ºå®Œæ•´çš„ UTC æ—¥æœŸï¼ˆæ ¼å¼ç‰¹å®šäºå®ç°ï¼‰â€‹ã€‚

```javascript
console.log(date.toDateString()) // 'Wed Dec 04 2024'
console.log(date.toTimeString()) // '10:23:48 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'
console.log(date.toLocaleDateString()) // '2024/12/4'
console.log(date.toLocaleTimeString()) // '10:24:06'
console.log(date.toUTCString()) // 'Wed, 04 Dec 2024 02:24:13 GMT'
```

### 5.1.3 æ—¥æœŸ/æ—¶é—´ç»„ä»¶æ–¹æ³•

```javascript
const date = new Date()
// è¿”å›æ—¥æœŸçš„æ¯«ç§’è¡¨ç¤ºï¼›ä¸ valueOf() ç›¸åŒ
console.log(date.getTime()) // 1733279147381
// è®¾ç½®æ—¥æœŸçš„æ¯«ç§’è¡¨ç¤ºï¼Œä»è€Œä¿®æ”¹æ•´ä¸ªæ—¥æœŸ
date.setTime(1733279147381)
console.log(date.toLocaleString()) // '2024/12/4 10:25:47'
// è¿”å› 4 ä½å¹´æ•°
console.log(date.getFullYear()) // 2024
// è¿”å› UTC æ—¥æœŸçš„ 4 ä½å¹´æ•°
console.log(date.getUTCFullYear()) // 2024
// è®¾ç½® UTC æ—¥æœŸçš„å¹´
date.setFullYear(2025)
console.log(date.toLocaleString()) // '2025/12/4 10:25:47'
// è¿”å›æ—¥æœŸçš„æœˆï¼ˆ0 è¡¨ç¤º 1 æœˆï¼Œ11 è¡¨ç¤º 12 æœˆï¼‰
console.log(date.getMonth()) // 11
// è¿”å› UTC æ—¥æœŸçš„æœˆï¼ˆ0 è¡¨ç¤º 1 æœˆï¼Œ11 è¡¨ç¤º 12 æœˆï¼‰
console.log(date.getUTCMonth()) // 11
// è®¾ç½®æ—¥æœŸçš„æœˆï¼ˆmonth ä¸ºå¤§äºç­‰äº 0 çš„æ•°å€¼ï¼Œå¤§äº 11 åŠ å¹´ï¼‰
date.setMonth(0)
console.log(date.toLocaleString()) // '2025/1/4 10:25:47'
// è¿”å›æ—¥æœŸä¸­çš„æ—¥ï¼ˆ1~31ï¼‰
console.log(date.getDate()) // 4
// è¿”å› UTC æ—¥æœŸä¸­çš„æ—¥ï¼ˆ1~31ï¼‰
console.log(date.getUTCDate()) // 4
// è®¾ç½®æ—¥æœŸä¸­çš„æ—¥ï¼ˆå¦‚æœdate å¤§äºè¯¥æœˆçš„å¤©æ•°ï¼Œåˆ™åŠ æœˆï¼‰
date.setDate(1)
console.log(date.toLocaleString()) // '2025/1/1 10:25:47'
// è®¾ç½® UTC æ—¥æœŸä¸­çš„æ—¥ï¼ˆå¦‚æœ date å¤§äºè¯¥æœˆçš„å¤©æ•°ï¼Œåˆ™åŠ æœˆï¼‰
date.setUTCDate(1)
console.log(date.toLocaleString()) // '2025/1/1 10:25:47'
// è¿”å›æ—¥æœŸä¸­çš„æ˜ŸæœŸå‡ ï¼ˆ0 è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼Œ6 è¡¨ç¤ºæ˜ŸæœŸå…­ï¼‰
console.log(date.getDay()) // 3
// è¿”å› UTC æ—¥æœŸä¸­çš„æ˜ŸæœŸå‡ ï¼ˆ0 è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼Œ6 è¡¨ç¤ºæ˜ŸæœŸå…­ï¼‰
console.log(date.getUTCDay()) // 3
// è¿”å›æ—¥æœŸä¸­çš„æ—¶ï¼ˆ0~23ï¼‰
console.log(date.getHours()) // 10
// è¿”å› UTC æ—¥æœŸä¸­çš„æ—¶ï¼ˆ0~23ï¼‰
console.log(date.getUTCHours()) // 2
// è®¾ç½®æ—¥æœŸä¸­çš„æ—¶ï¼ˆå¦‚æœ hours å¤§äº 23ï¼Œåˆ™åŠ æ—¥ï¼‰
date.setHours(11)
console.log(date.toLocaleString()) // '2025/1/1 11:25:47'
// è®¾ç½® UTC æ—¥æœŸä¸­çš„æ—¶ï¼ˆå¦‚æœ hours å¤§äº 23ï¼Œåˆ™åŠ æ—¥ï¼‰
date.setUTCHours(11)
console.log(date.toLocaleString()) // '2025/1/1 19:25:47'
// è¿”å›æ—¥æœŸä¸­çš„åˆ†ï¼ˆ0~59ï¼‰
console.log(date.getMinutes()) // 25
// è¿”å› UTC æ—¥æœŸä¸­çš„åˆ†ï¼ˆ0~59ï¼‰
console.log(date.getUTCMinutes()) // 25
// è®¾ç½®æ—¥æœŸä¸­çš„åˆ†ï¼ˆå¦‚æœ minutes å¤§äº 59ï¼Œåˆ™åŠ æ—¶ï¼‰
date.setMinutes(26)
console.log(date.toLocaleString()) // '2025/1/1 19:26:47'
// è®¾ç½® UTC æ—¥æœŸä¸­çš„åˆ†ï¼ˆå¦‚æœ minutes å¤§äº 59ï¼Œåˆ™åŠ æ—¶ï¼‰
date.setUTCMinutes(26)
console.log(date.toLocaleString()) // '2025/1/1 19:26:47'
// è¿”å›æ—¥æœŸä¸­çš„ç§’ï¼ˆ0~59ï¼‰
console.log(date.getSeconds()) // 47
// è¿”å› UTC æ—¥æœŸä¸­çš„ç§’ï¼ˆ0~59ï¼‰
console.log(date.getUTCSeconds()) // 47
// è®¾ç½®æ—¥æœŸä¸­çš„ç§’ï¼ˆå¦‚æœ seconds å¤§äº 59ï¼Œåˆ™åŠ åˆ†ï¼‰
date.setSeconds(48)
console.log(date.toLocaleString()) // '2025/1/1 19:26:48'
// è®¾ç½® UTC æ—¥æœŸä¸­çš„ç§’ï¼ˆå¦‚æœ seconds å¤§äº 59ï¼Œåˆ™åŠ åˆ†ï¼‰
date.setUTCSeconds(48)
console.log(date.toLocaleString()) // '2025/1/1 19:26:48'
// è¿”å›æ—¥æœŸä¸­çš„æ¯«ç§’ï¼ˆ0~999ï¼‰
console.log(date.getMilliseconds()) // 381
// è¿”å› UTC æ—¥æœŸä¸­çš„æ¯«ç§’ï¼ˆ0~999ï¼‰
console.log(date.getUTCMilliseconds()) // 381
// è®¾ç½®æ—¥æœŸä¸­çš„æ¯«ç§’ï¼ˆå¦‚æœ milliseconds å¤§äº 999ï¼Œåˆ™åŠ ç§’ï¼‰
date.setMilliseconds(1)
console.log(date.toLocaleString()) // '2025/1/1 19:26
// è®¾ç½® UTC æ—¥æœŸä¸­çš„æ¯«ç§’ï¼ˆå¦‚æœ milliseconds å¤§äº 999ï¼Œåˆ™åŠ ç§’ï¼‰
date.setUTCMilliseconds(1)
console.log(date.toLocaleString()) // '2025/1/1 19:26:48'
// è¿”å›ä»¥åˆ†é’Ÿè®¡çš„ UTC ä¸æœ¬åœ°æ—¶åŒºçš„åç§»é‡
console.log(date.getTimezoneOffset()) // -480
```

:::details å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ®æ˜¯å¦å¯ä»¥è½¬æˆæ—¥æœŸï¼Ÿ

æ–¹æ³•ä¸€ï¼šç”¨ `new Date()` æ–¹æ³•ï¼Œå°†æ•°æ®è½¬æ¢æˆæ—¥æœŸå¯¹è±¡ï¼Œè½¬æ¢å¤±è´¥çš„å€¼æ˜¯å­—ç¬¦ä¸² "Invalid Date"

æ–¹æ³•äºŒï¼šç”¨ `new Date()` æ–¹æ³•ï¼Œå°†æ•°æ®è½¬æ¢æˆæ—¥æœŸå¯¹è±¡ï¼Œå†ç”¨ `getTime()` æ–¹æ³•ï¼Œè·å–è¯¥æ—¥æœŸçš„æ—¶é—´æˆ³ï¼Œæœ€åç”¨ `isNaN()` åˆ¤æ–­è¯¥æ—¶é—´æˆ³æ˜¯å¦ä¸ºä¸€ä¸ªæ•°ç»„

:::

## 5.2 RegExp

```javascript
let expression = /pattern/flags;
// åŒ¹é…ç¬¬ä¸€ä¸ª"bat"æˆ–"cat"ï¼Œå¿½ç•¥å¤§å°å†™
let pattern1 = /[bc]at/i
// è·Ÿ pattern1 ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„
let pattern2 = new RegExp('[bc]at', 'i')
```

è¡¨ç¤ºåŒ¹é…æ¨¡å¼çš„æ ‡è®°ã€‚

â‘ gï¼šå…¨å±€æ¨¡å¼ï¼Œè¡¨ç¤ºæŸ¥æ‰¾å­—ç¬¦ä¸²çš„å…¨éƒ¨å†…å®¹ï¼Œè€Œä¸æ˜¯æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„å†…å®¹å°±ç»“æŸã€‚<br />
â‘ iï¼šä¸åŒºåˆ†å¤§å°å†™ï¼Œè¡¨ç¤ºåœ¨æŸ¥æ‰¾åŒ¹é…æ—¶å¿½ç•¥ pattern å’Œå­—ç¬¦ä¸²çš„å¤§å°å†™ã€‚<br />
â‘ mï¼šå¤šè¡Œæ¨¡å¼ï¼Œè¡¨ç¤ºæŸ¥æ‰¾åˆ°ä¸€è¡Œæ–‡æœ¬æœ«å°¾æ—¶ä¼šç»§ç»­æŸ¥æ‰¾ã€‚<br />
â‘ yï¼šç²˜é™„æ¨¡å¼ï¼Œè¡¨ç¤ºåªæŸ¥æ‰¾ä» lastIndex å¼€å§‹åŠä¹‹åçš„å­—ç¬¦ä¸²ã€‚<br />
â‘ uï¼šUnicode æ¨¡å¼ï¼Œå¯ç”¨ Unicode åŒ¹é…ã€‚<br />
â‘ sï¼šdotAll æ¨¡å¼ï¼Œè¡¨ç¤ºå…ƒå­—ç¬¦ï¼åŒ¹é…ä»»ä½•å­—ç¬¦ï¼ˆåŒ…æ‹¬\n æˆ–\rï¼‰â€‹ã€‚

æ‰€æœ‰*å…ƒå­—ç¬¦*åœ¨æ¨¡å¼ä¸­ä¹Ÿå¿…é¡»è½¬ä¹‰ï¼ŒåŒ…æ‹¬ï¼š

```javascript
( [ { \ ^ $ | ) ] } ? * + .
```

### 5.2.1 RegExp å®ä¾‹å±æ€§

æ¯ä¸ª `RegExp` å®ä¾‹éƒ½æœ‰ä¸‹åˆ—å±æ€§ï¼Œæä¾›æœ‰å…³æ¨¡å¼çš„å„æ–¹é¢ä¿¡æ¯ã€‚

â‘ globalï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† g æ ‡è®°ã€‚<br />
â‘ ignoreCaseï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† i æ ‡è®°ã€‚<br />
â‘ unicodeï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† u æ ‡è®°ã€‚<br />
â‘ stickyï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† y æ ‡è®°ã€‚<br />
â‘ lastIndexï¼šæ•´æ•°ï¼Œè¡¨ç¤ºåœ¨æºå­—ç¬¦ä¸²ä¸­ä¸‹ä¸€æ¬¡æœç´¢çš„å¼€å§‹ä½ç½®ï¼Œå§‹ç»ˆä» 0 å¼€å§‹ã€‚<br />
â‘ multilineï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† m æ ‡è®°ã€‚<br />
â‘ dotAllï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† s æ ‡è®°ã€‚<br />
â‘ sourceï¼šæ­£åˆ™è¡¨è¾¾å¼çš„å­—é¢é‡å­—ç¬¦ä¸²ï¼ˆä¸æ˜¯ä¼ ç»™æ„é€ å‡½æ•°çš„æ¨¡å¼å­—ç¬¦ä¸²ï¼‰â€‹ï¼Œæ²¡æœ‰å¼€å¤´å’Œç»“å°¾çš„æ–œæ ã€‚<br />
â‘ flagsï¼šæ­£åˆ™è¡¨è¾¾å¼çš„æ ‡è®°å­—ç¬¦ä¸²ã€‚å§‹ç»ˆä»¥å­—é¢é‡è€Œéä¼ å…¥æ„é€ å‡½æ•°çš„å­—ç¬¦ä¸²æ¨¡å¼å½¢å¼è¿”å›ï¼ˆæ²¡æœ‰å‰åæ–œæ ï¼‰â€‹ã€‚

```javascript
let pattern1 = /\[bc\]at/i
console.log(pattern1.global) // false
console.log(pattern1.ignoreCase) // true
console.log(pattern1.multiline) // false
console.log(pattern1.lastIndex) // 0
console.log(pattern1.source) // '\[bc\]at'
console.log(pattern1.flags) // 'i'

let pattern2 = new RegExp('\\[bc\\]at', 'i')
console.log(pattern2.global) // false
console.log(pattern2.ignoreCase) // true
console.log(pattern2.multiline) // false
console.log(pattern2.lastIndex) // 0
console.log(pattern2.source) // '\[bc\]at'
console.log(pattern2.flags) // 'i'
```

### 5.2.2 RegExp å®ä¾‹æ–¹æ³•

`RegExp` å®ä¾‹çš„ä¸»è¦æ–¹æ³•æ˜¯ `exec()`ï¼Œä¸»è¦ç”¨äºé…åˆæ•è·ç»„ä½¿ç”¨ã€‚è¿™ä¸ªæ–¹æ³•åªæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦åº”ç”¨æ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ‰¾åˆ°äº†åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›åŒ…å«ç¬¬ä¸€ä¸ªåŒ¹é…ä¿¡æ¯çš„æ•°ç»„ï¼›å¦‚æœæ²¡æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› nullã€‚è¿”å›çš„æ•°ç»„è™½ç„¶æ˜¯ Array çš„å®ä¾‹ï¼Œä½†åŒ…å«ä¸¤ä¸ªé¢å¤–çš„å±æ€§ï¼šindex å’Œ inputã€‚index æ˜¯å­—ç¬¦ä¸²ä¸­åŒ¹é…æ¨¡å¼çš„èµ·å§‹ä½ç½®ï¼Œinput æ˜¯è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åŒ¹é…æ•´ä¸ªæ¨¡å¼çš„å­—ç¬¦ä¸²ï¼Œå…¶ä»–å…ƒç´ æ˜¯ä¸è¡¨è¾¾å¼ä¸­çš„æ•è·ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ¨¡å¼ä¸­æ²¡æœ‰æ•è·ç»„ï¼Œåˆ™æ•°ç»„åªåŒ…å«ä¸€ä¸ªå…ƒç´ ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```javascript
let text = 'mom and dad and baby'
let pattern = /mom( and dad( and baby)?)? /gi
let matches = pattern.exec(text)
console.log(matches) // [ 'mom and dad ', ' and dad', undefined, index: 0, input: 'mom and dad and baby', groups: undefined ]
console.log(matches.index) // 0
console.log(matches.input) // 'mom and dad and baby'
console.log(matches[0]) // 'mom and dad '
console.log(matches[1]) // ' and dad'
console.log(matches[2]) // undefined
```

å¦‚æœæ¨¡å¼è®¾ç½®äº†å…¨å±€æ ‡è®°ï¼Œåˆ™æ¯æ¬¡è°ƒç”¨ `exec()`æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåŒ¹é…çš„ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®å…¨å±€æ ‡è®°ï¼Œåˆ™æ— è®ºå¯¹åŒä¸€ä¸ªå­—ç¬¦ä¸²è°ƒç”¨å¤šå°‘æ¬¡ `exec()`ï¼Œä¹Ÿåªä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä¿¡æ¯ã€‚

```javascript
let text = 'cat, bat, sat, fat'
let pattern = /.at/
let matches = pattern.exec(text)
console.log(matches.index) // 0
console.log(matches[0]) // 'cat'
console.log(pattern.lastIndex) // 0

matches = pattern.exec(text)
console.log(matches.index) // 0
console.log(matches[0]) // 'cat'
console.log(pattern.lastIndex) // 0
```

`lastIndex` åœ¨éå…¨å±€æ¨¡å¼ä¸‹å§‹ç»ˆä¸å˜ã€‚

å¦‚æœåœ¨è¿™ä¸ªæ¨¡å¼ä¸Šè®¾ç½®äº† `g` æ ‡è®°ï¼Œåˆ™æ¯æ¬¡è°ƒç”¨ `exec()`éƒ½ä¼šåœ¨å­—ç¬¦ä¸²ä¸­å‘å‰æœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼š

```javascript
let text = 'cat, bat, sat, fat'
let pattern = /.at/g
let matches = pattern.exec(text)
console.log(matches.index) // 0
console.log(matches[0]) // 'cat'
console.log(pattern.lastIndex) // 3

matches = pattern.exec(text)
console.log(matches.index) // 5
console.log(matches[0]) // 'bat'
console.log(pattern.lastIndex) // 8

matches = pattern.exec(text)
console.log(matches.index) // 10
console.log(matches[0]) // 'sat'
console.log(pattern.lastIndex) // 13
```

å¦‚æœæ¨¡å¼è®¾ç½®äº†ç²˜é™„æ ‡è®° `y`ï¼Œåˆ™æ¯æ¬¡è°ƒç”¨ `exec()`å°±åªä¼šåœ¨ `lastIndex` çš„ä½ç½®ä¸Šå¯»æ‰¾åŒ¹é…é¡¹ã€‚ç²˜é™„æ ‡è®°è¦†ç›–å…¨å±€æ ‡è®°ã€‚

```javascript
let text = 'cat, bat, sat, fat'
let pattern = /.at/y // ç‚¹å·ï¼ˆ.ï¼‰åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå®ƒåŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚
let matches = pattern.exec(text)
console.log(matches.index) // 0
console.log(matches[0]) // 'cat'
console.log(pattern.lastIndex) // 3

// ä»¥ç´¢å¼• 3 å¯¹åº”çš„å­—ç¬¦å¼€å¤´æ‰¾ä¸åˆ°åŒ¹é…é¡¹ï¼Œå› æ­¤ exec() è¿”å› null
// exec() æ²¡æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œäºæ˜¯å°† lastIndex è®¾ç½®ä¸º 0
matches = pattern.exec(text)
console.log(matches) // null
console.log(pattern.lastIndex) // 0

// å‘å‰è®¾ç½® lastIndex å¯ä»¥è®©ç²˜é™„çš„æ¨¡å¼é€šè¿‡ exec() æ‰¾åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼š
pattern.lastIndex = 5
matches = pattern.exec(text)
console.log(matches.index) // 5
console.log(matches[0]) // 'bat'
console.log(pattern.lastIndex) // 8
```

æ­£åˆ™è¡¨è¾¾å¼çš„å¦ä¸€ä¸ªæ–¹æ³•æ˜¯ `test()`ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ã€‚å¦‚æœè¾“å…¥çš„æ–‡æœ¬ä¸æ¨¡å¼åŒ¹é…ï¼Œåˆ™å‚æ•°è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚

```javascript
let text = '000-00-0000'
let pattern = /\d{3}-\d{2}-\d{4}/
if (pattern.test(text)) {
  console.log('The pattern was matched.')
}
```

æ— è®ºæ­£åˆ™è¡¨è¾¾å¼æ˜¯æ€ä¹ˆåˆ›å»ºçš„ï¼Œç»§æ‰¿çš„æ–¹æ³• `toLocaleString()`å’Œ `toString()`éƒ½è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„å­—é¢é‡è¡¨ç¤ºã€‚æ­£åˆ™è¡¨è¾¾å¼çš„ `valueOf()`æ–¹æ³•è¿”å›æ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ã€‚

```javascript
let pattern = new RegExp('\\[bc\\]at', 'gi')
console.log(pattern.toString()) // '/\[bc\]at/gi'
console.log(pattern.toLocaleString()) // '/\[bc\]at/gi'
console.log(pattern.valueOf()) // /\[bc\]at/gi
```

### 5.2.3 RegExp æ„é€ å‡½æ•°å±æ€§

`RegExp` æ„é€ å‡½æ•°æœ¬èº«ä¹Ÿæœ‰å‡ ä¸ªå±æ€§ã€‚â€‹ï¼ˆåœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œè¿™ç§å±æ€§è¢«ç§°ä¸ºé™æ€å±æ€§ã€‚â€‹ï¼‰è¿™äº›å±æ€§é€‚ç”¨äºä½œç”¨åŸŸä¸­çš„æ‰€æœ‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œä¸”ä¼šæ ¹æ®æœ€åæ‰§è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼æ“ä½œè€Œå˜åŒ–ã€‚è¿™äº›å±æ€§è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡ä¸¤ç§ä¸åŒçš„æ–¹å¼è®¿é—®å®ƒä»¬ã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå…¨åå’Œä¸€ä¸ªç®€å†™ã€‚ä¸‹è¡¨åˆ—å‡ºäº† `RegExp` æ„é€ å‡½æ•°çš„å±æ€§ã€‚

|        å±æ€§å        | ç®€å†™ |                   æè¿°                    |
| :------------------: | :--: | :---------------------------------------: |
|    input(å·²å¼ƒç”¨)     | `$_` |      æœ€åæœç´¢çš„å­—ç¬¦ä¸²ï¼ˆéæ ‡å‡†ç‰¹æ€§ï¼‰       |
|  lastMatch(å·²å¼ƒç”¨)   | `$&` |              æœ€ååŒ¹é…çš„æ–‡æœ¬               |
|  lastParen(å·²å¼ƒç”¨)   | `$+` |      æœ€ååŒ¹é…çš„æ•è·ç»„ï¼ˆéæ ‡å‡†ç‰¹æ€§ï¼‰       |
| leftContext(å·²å¼ƒç”¨)  |  $`  | input å­—ç¬¦ä¸²ä¸­å‡ºç°åœ¨ lastMatch å‰é¢çš„æ–‡æœ¬ |
| rightContext(å·²å¼ƒç”¨) | `$'` | input å­—ç¬¦ä¸²ä¸­å‡ºç°åœ¨ lastMatch åé¢çš„æ–‡æœ¬ |

```javascript
let text = 'this has been a short summer'
let pattern = /(.)hort/g
if (pattern.test(text)) {
  console.log(RegExp.input) // 'this has been a short summer'
  console.log(RegExp.leftContext) // 'this has been a '
  console.log(RegExp.rightContext) // ' summer'
  console.log(RegExp.lastMatch) // 'short'
  console.log(RegExp.lastParen) // 's'
}

let text = 'this has been a short summer'
let pattern = /(.)hort/g
/*
 * æ³¨æ„ï¼šOperaä¸æ”¯æŒç®€å†™å±æ€§å
 * IEä¸æ”¯æŒå¤šè¡ŒåŒ¹é…
 */
if (pattern.test(text)) {
  console.log(RegExp.$_) // 'this has been a short summer'
  console.log(RegExp['$`']) // 'this has been a '
  console.log(RegExp["$'"]) // ' summer'
  console.log(RegExp['$&']) // 'short'
  console.log(RegExp['$+']) // 's'
}
```

### 5.2.4 æ¨¡å¼å±€é™

## 5.3 åŸå§‹å€¼åŒ…è£…ç±»å‹

åœ¨ä»¥è¯»æ¨¡å¼è®¿é—®å­—ç¬¦ä¸²å€¼çš„ä»»ä½•æ—¶å€™ï¼Œåå°éƒ½ä¼šæ‰§è¡Œä»¥ä¸‹ 3 æ­¥ï¼š

ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ª `String` ç±»å‹çš„å®ä¾‹ï¼›<br />
ï¼ˆ2ï¼‰è°ƒç”¨å®ä¾‹ä¸Šçš„ç‰¹å®šæ–¹æ³•ï¼›<br />
ï¼ˆ3ï¼‰é”€æ¯å®ä¾‹ã€‚

å¯¹å¸ƒå°”å€¼å’Œæ•°å€¼è€Œè¨€ï¼Œä»¥ä¸Š 3 æ­¥ä¹Ÿä¼šåœ¨åå°å‘ç”Ÿï¼Œåªä¸è¿‡ä½¿ç”¨çš„æ˜¯ `Boolean` å’Œ `Number` åŒ…è£…ç±»å‹è€Œå·²ã€‚

å¼•ç”¨ç±»å‹ä¸åŸå§‹å€¼åŒ…è£…ç±»å‹çš„ä¸»è¦åŒºåˆ«åœ¨äºå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨é€šè¿‡ `new` å®ä¾‹åŒ–å¼•ç”¨ç±»å‹åï¼Œå¾—åˆ°çš„å®ä¾‹ä¼šåœ¨ç¦»å¼€ä½œç”¨åŸŸæ—¶è¢«é”€æ¯ï¼Œè€Œè‡ªåŠ¨åˆ›å»ºçš„åŸå§‹å€¼åŒ…è£…å¯¹è±¡åˆ™åªå­˜åœ¨äºè®¿é—®å®ƒçš„é‚£è¡Œä»£ç æ‰§è¡ŒæœŸé—´ã€‚è¿™æ„å‘³ç€ä¸èƒ½åœ¨è¿è¡Œæ—¶ç»™åŸå§‹å€¼æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚

```javascript
let s1 = 'some text'
s1.color = 'red'
console.log(s1.color) // undefined
```

åœ¨åŸå§‹å€¼åŒ…è£…ç±»å‹çš„å®ä¾‹ä¸Šè°ƒç”¨ `typeof` ä¼šè¿”å›`"object"`ï¼Œæ‰€æœ‰åŸå§‹å€¼åŒ…è£…å¯¹è±¡éƒ½ä¼šè½¬æ¢ä¸ºå¸ƒå°”å€¼ trueã€‚

å¦å¤–ï¼Œ`Object` æ„é€ å‡½æ•°ä½œä¸ºä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œèƒ½å¤Ÿæ ¹æ®ä¼ å…¥å€¼çš„ç±»å‹è¿”å›ç›¸åº”åŸå§‹å€¼åŒ…è£…ç±»å‹çš„å®ä¾‹ã€‚æ¯”å¦‚ï¼š

```javascript
let obj = new Object('some text')
console.log(obj instanceof String) // true
```

:::tip æ³¨æ„
ä½¿ç”¨ `new` è°ƒç”¨åŸå§‹å€¼åŒ…è£…ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œä¸è°ƒç”¨åŒåçš„è½¬å‹å‡½æ•°å¹¶ä¸ä¸€æ ·ã€‚
:::

```javascript
let value = '25'
let number = Number(value) // è½¬å‹å‡½æ•°
console.log(typeof number) // 'number'
let obj = new Number(value) // æ„é€ å‡½æ•°
console.log(typeof obj) // 'object'
console.log(typeof 3e-4) // 'number'
```

```javascript
const num01 = 1
const num02 = new Number(1)
const num03 = Number(1)
console.log(typeof num01) // 'number'
console.log(typeof num02) // 'object'
console.log(typeof num03) // 'number'
console.log(num01 === num02) // false
console.log(num02 === num03) // false
console.log(num01 === num03) // true
// String Boolean åŒç†
```

### 5.3.1 Boolean

`Boolean` çš„å®ä¾‹ä¼šé‡å†™ `valueOf()`æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªåŸå§‹å€¼ true æˆ– falseã€‚`toString()`æ–¹æ³•è¢«è°ƒç”¨æ—¶ä¹Ÿä¼šè¢«è¦†ç›–ï¼Œè¿”å›å­—ç¬¦ä¸²"true"æˆ–"false"ã€‚

```javascript
let falseObject = new Boolean(false)
let result = falseObject && true
console.log(result) // true

let falseValue = false
result = falseValue && true
console.log(result) // false
```

- `typeof` æ“ä½œç¬¦å¯¹åŸå§‹å€¼è¿”å›"boolean"ï¼Œä½†å¯¹å¼•ç”¨å€¼è¿”å›"object"ã€‚
- `Boolean` å¯¹è±¡æ˜¯ `Boolean` ç±»å‹çš„å®ä¾‹ï¼Œåœ¨ä½¿ç”¨ `instaceof` æ“ä½œç¬¦æ—¶è¿”å› trueï¼Œä½†å¯¹åŸå§‹å€¼åˆ™è¿”å› falseã€‚

```javascript
console.log(typeof falseObject) // 'object'
console.log(typeof falseValue) // 'boolean'
console.log(falseObject instanceof Boolean) // true
console.log(falseValue instanceof Boolean) // false
```

### 5.3.2 Number

`Number` ç±»å‹é‡å†™äº† `valueOf()`ã€`toLocaleString()`å’Œ `toString()`æ–¹æ³•ã€‚`valueOf()`æ–¹æ³•è¿”å› Number å¯¹è±¡è¡¨ç¤ºçš„åŸå§‹æ•°å€¼ï¼Œå¦å¤–ä¸¤ä¸ªæ–¹æ³•è¿”å›æ•°å€¼å­—ç¬¦ä¸²ã€‚`toString()`æ–¹æ³•å¯é€‰åœ°æ¥æ”¶ä¸€ä¸ªè¡¨ç¤ºåŸºæ•°çš„å‚æ•°ï¼Œå¹¶è¿”å›ç›¸åº”åŸºæ•°å½¢å¼çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚

```javascript
let num = 10
console.log(num.toString()) // '10'
console.log(num.toString(2)) // '1010'
console.log(num.toString(8)) // '12'
console.log(num.toString(10)) // '10'
console.log(num.toString(16)) // 'a'
```

`toFixed()`æ–¹æ³•è¿”å›åŒ…å«æŒ‡å®šå°æ•°ç‚¹ä½æ•°çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚

`toExponential()`æ–¹æ³•è¿”å›ä»¥ç§‘å­¦è®°æ•°æ³•ï¼ˆä¹Ÿç§°ä¸ºæŒ‡æ•°è®°æ•°æ³•ï¼‰è¡¨ç¤ºçš„æ•°å€¼å­—ç¬¦ä¸²ã€‚ä¸ `toFixed()`ä¸€æ ·ï¼Œ`toExponential()`ä¹Ÿæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»“æœä¸­å°æ•°çš„ä½æ•°ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```javascript
let num = 10
console.log(num.toExponential(1)) // '1.0e+1'
```

`toPrecision()`æ–¹æ³•ä¼šæ ¹æ®æƒ…å†µè¿”å›æœ€åˆç†çš„è¾“å‡ºç»“æœï¼Œå¯èƒ½æ˜¯å›ºå®šé•¿åº¦ï¼Œä¹Ÿå¯èƒ½æ˜¯ç§‘å­¦è®°æ•°æ³•å½¢å¼ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»“æœä¸­æ•°å­—çš„æ€»ä½æ•°ï¼ˆä¸åŒ…å«æŒ‡æ•°ï¼‰â€‹ã€‚

```javascript
let num = 99
console.log(num.toPrecision(1)) // '1e+2'
console.log(num.toPrecision(2)) // '99'
console.log(num.toPrecision(3)) // '99.0'
```

**isInteger()æ–¹æ³•ä¸å®‰å…¨æ•´æ•°**

ES6 æ–°å¢äº† `Number.isInteger()`æ–¹æ³•ï¼Œç”¨äºè¾¨åˆ«ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¿å­˜ä¸ºæ•´æ•°ã€‚æœ‰æ—¶å€™ï¼Œå°æ•°ä½çš„ 0 å¯èƒ½ä¼šè®©äººè¯¯ä»¥ä¸ºæ•°å€¼æ˜¯ä¸€ä¸ªæµ®ç‚¹å€¼ï¼š

```javascript
console.log(Number.isInteger(1)) // true
console.log(Number.isInteger(1.0)) // true
console.log(Number.isInteger(1.01)) // false
```

IEEE 754 æ•°å€¼æ ¼å¼æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ•°å€¼èŒƒå›´ï¼Œåœ¨è¿™ä¸ªèŒƒå›´å†…äºŒè¿›åˆ¶å€¼å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ•´æ•°å€¼ã€‚è¿™ä¸ªæ•°å€¼èŒƒå›´ä» `Number.MIN_SAFE_INTEGER`ï¼ˆ-2^53^+ 1ï¼‰åˆ° `Number.MAX_SAFE_INTEGER`ï¼ˆ2^53^-1ï¼‰â€‹ã€‚å¯¹è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„æ•°å€¼ï¼Œå³ä½¿å°è¯•ä¿å­˜ä¸ºæ•´æ•°ï¼ŒIEEE 754 ç¼–ç æ ¼å¼ä¹Ÿæ„å‘³ç€äºŒè¿›åˆ¶å€¼å¯èƒ½ä¼šè¡¨ç¤ºä¸€ä¸ªå®Œå…¨ä¸åŒçš„æ•°å€¼ã€‚ä¸ºäº†é‰´åˆ«æ•´æ•°æ˜¯å¦åœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œå¯ä»¥ä½¿ç”¨ `Number.isSafeInteger()`æ–¹æ³•ï¼š

```javascript
console.log(Number.isSafeInteger(-1 * 2 ** 53)) // false
console.log(Number.isSafeInteger(-1 * 2 ** 53 + 1)) // true
console.log(Number.isSafeInteger(2 ** 53)) // false
console.log(Number.isSafeInteger(2 ** 53 - 1)) // true
```

### 5.3.3 String

3 ä¸ªç»§æ‰¿çš„æ–¹æ³• `valueOf()`ã€`toLocaleString()`å’Œ `toString()`éƒ½è¿”å›å¯¹è±¡çš„åŸå§‹å­—ç¬¦ä¸²å€¼ã€‚

æ¯ä¸ª `String` å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª `length` å±æ€§ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ•°é‡ã€‚å³ä½¿å­—ç¬¦ä¸²ä¸­åŒ…å«åŒå­—èŠ‚å­—ç¬¦ï¼ˆè€Œä¸æ˜¯å•å­—èŠ‚çš„ ASCII å­—ç¬¦ï¼‰â€‹ï¼Œä¹Ÿä»ç„¶ä¼šæŒ‰å•å­—ç¬¦æ¥è®¡æ•°ã€‚

#### 1ï¼JavaScript å­—ç¬¦

JavaScript å­—ç¬¦ä¸²ç”± 16 ä½ç å…ƒï¼ˆcode unitï¼‰ç»„æˆã€‚å¯¹å¤šæ•°å­—ç¬¦æ¥è¯´ï¼Œæ¯ 16 ä½ç å…ƒå¯¹åº”ä¸€ä¸ªå­—ç¬¦ã€‚æ¢å¥è¯è¯´ï¼Œå­—ç¬¦ä¸²çš„ `length` å±æ€§(åªè¯»å±æ€§ï¼Œä¸å¯ä¿®æ”¹)è¡¨ç¤ºå­—ç¬¦ä¸²åŒ…å«å¤šå°‘ 16 ä½ç å…ƒã€‚

`charAt()`æ–¹æ³•è¿”å›ç»™å®šç´¢å¼•ä½ç½®çš„å­—ç¬¦ï¼Œç”±ä¼ ç»™æ–¹æ³•çš„æ•´æ•°å‚æ•°æŒ‡å®šã€‚å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–¹æ³•æŸ¥æ‰¾æŒ‡å®šç´¢å¼•ä½ç½®çš„ 16 ä½ç å…ƒï¼Œå¹¶è¿”å›è¯¥ç å…ƒå¯¹åº”çš„å­—ç¬¦ï¼š

```javascript
let message = 'abcde'
console.log(message.charAt(2)) // 'c'
```

ä½¿ç”¨ `charCodeAt()`æ–¹æ³•å¯ä»¥æŸ¥çœ‹æŒ‡å®šç å…ƒçš„å­—ç¬¦ç¼–ç ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®çš„ç å…ƒå€¼ï¼Œç´¢å¼•ä»¥æ•´æ•°æŒ‡å®šã€‚

```javascript
let message = 'abcde'
// Unicode "Latin small letter C" çš„ç¼–ç æ˜¯ U+0063
console.log(message.charCodeAt(2)) // 99
// åè¿›åˆ¶ 99 ç­‰äºåå…­è¿›åˆ¶ 63
console.log(99 === 0x63) // true
```

`fromCharCode()`æ–¹æ³•ç”¨äºæ ¹æ®ç»™å®šçš„ UTF-16 ç å…ƒåˆ›å»ºå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥æ¥å—ä»»æ„å¤šä¸ªæ•°å€¼ï¼Œå¹¶è¿”å›å°†æ‰€æœ‰æ•°å€¼å¯¹åº”çš„å­—ç¬¦æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ï¼š

```javascript
// Unicode "Latin small letter A" çš„ç¼–ç æ˜¯ U+0061
// Unicode "Latin small letter B" çš„ç¼–ç æ˜¯ U+0062
// Unicode "Latin small letter C" çš„ç¼–ç æ˜¯ U+0063
// Unicode "Latin small letter D" çš„ç¼–ç æ˜¯ U+0064
// Unicode "Latin small letter E" çš„ç¼–ç æ˜¯ U+0065
console.log(String.fromCharCode(0x61, 0x62, 0x63, 0x64, 0x65)) // 'abcde'
// 0x0061 === 97
// 0x0062 === 98
// 0x0063 === 99
// 0x0064 === 100
// 0x0065 === 101
console.log(String.fromCharCode(97, 98, 99, 100, 101)) // 'abcde'
```

ä¸ºäº†è¡¨ç¤ºæ›´å¤šçš„å­—ç¬¦ï¼ŒUnicode é‡‡ç”¨äº†ä¸€ä¸ªç­–ç•¥ï¼Œå³æ¯ä¸ªå­—ç¬¦ä½¿ç”¨å¦å¤– 16 ä½å»é€‰æ‹©ä¸€ä¸ª**å¢è¡¥å¹³é¢**ã€‚è¿™ç§æ¯ä¸ªå­—ç¬¦ä½¿ç”¨ä¸¤ä¸ª 16 ä½ç å…ƒçš„ç­–ç•¥ç§°ä¸º**ä»£ç†å¯¹**ã€‚åœ¨æ¶‰åŠå¢è¡¥å¹³é¢çš„å­—ç¬¦æ—¶ï¼Œå‰é¢è®¨è®ºçš„å­—ç¬¦ä¸²æ–¹æ³•å°±ä¼šå‡ºé—®é¢˜ã€‚

```javascript
// "smiling face with smiling eyes" è¡¨æƒ…ç¬¦å·çš„ç¼–ç æ˜¯ U+1F60A
// 0x1F60A === 128522
let message = 'abğŸ˜Šde'
console.log(message.length) // 6
console.log(message.charAt(1)) // 'b'
console.log(message.charAt(2)) // 'ï¿½'
console.log(message.charAt(3)) // 'ï¿½'
console.log(message.charAt(4)) // 'd'
console.log(message.charCodeAt(1)) // 98
console.log(message.charCodeAt(2)) // 55357
console.log(message.charCodeAt(3)) // 56877
console.log(message.charCodeAt(4)) // 100
console.log(String.fromCodePoint(0x1f60a)) // 'ğŸ˜Š'
console.log(String.fromCharCode(97, 98, 55357, 56842, 100, 101)) // 'abğŸ˜Šde'
```

:::details `Intl.Segmenter()`è¿”å›å­—ç¬¦ä¸²çš„çœŸå®é•¿åº¦

```javascript
Object.defineProperty(String.prototype, 'realLength', {
  get: function () {
    return Array.from(new Intl.Segmenter('en').segment(this)).length
  }
})
let message = 'abğŸ˜Šde'
console.log(message.realLength) // 5
```

`Intl.Segmenter` æ˜¯ JavaScript ä¸­ä¸€ä¸ªä¸“é—¨ç”¨äºæ–‡æœ¬åˆ†æ®µçš„å¼ºå¤§å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿæ ¹æ®ä¸åŒçš„è¯­è¨€å’Œæ–‡æœ¬è§„åˆ™ï¼Œå°†å­—ç¬¦ä¸²æ™ºèƒ½åœ°åˆ†å‰²æˆæœ‰æ„ä¹‰çš„å•ä½ï¼Œå¦‚å­—ç¬¦ã€å•è¯æˆ–å¥å­ã€‚

:::

`fromCharCode()`æ–¹æ³•ä»ç„¶è¿”å›æ­£ç¡®çš„ç»“æœï¼Œå› ä¸ºå®ƒå®é™…ä¸Šæ˜¯åŸºäºæä¾›çš„äºŒè¿›åˆ¶è¡¨ç¤ºç›´æ¥ç»„åˆæˆå­—ç¬¦ä¸²ã€‚æµè§ˆå™¨å¯ä»¥æ­£ç¡®è§£æä»£ç†å¯¹ï¼ˆç”±ä¸¤ä¸ªç å…ƒæ„æˆï¼‰â€‹ï¼Œå¹¶æ­£ç¡®åœ°å°†å…¶è¯†åˆ«ä¸ºä¸€ä¸ª Unicode ç¬‘è„¸å­—ç¬¦ã€‚

ä¸ºæ­£ç¡®è§£ææ—¢åŒ…å«å•ç å…ƒå­—ç¬¦åˆåŒ…å«ä»£ç†å¯¹å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ `codePointAt()`æ¥ä»£æ›¿ `charCodeAt()`ã€‚è·Ÿä½¿ç”¨ `charCodeAt()`æ—¶ç±»ä¼¼ï¼Œ`codePointAt()`æ¥æ”¶ 16 ä½ç å…ƒçš„ç´¢å¼•å¹¶è¿”å›è¯¥ç´¢å¼•ä½ç½®ä¸Šçš„ç ç‚¹ï¼ˆcode pointï¼‰â€‹ã€‚ç ç‚¹æ˜¯ Unicode ä¸­ä¸€ä¸ªå­—ç¬¦çš„å®Œæ•´æ ‡è¯†ã€‚æ¯”å¦‚ï¼Œ"c"çš„ç ç‚¹æ˜¯ 0x0063ï¼Œè€Œ"â˜º"çš„ç ç‚¹æ˜¯ 0x1F60Aã€‚ç ç‚¹å¯èƒ½æ˜¯ 16 ä½ï¼Œä¹Ÿå¯èƒ½æ˜¯ 32 ä½ï¼Œè€Œ `codePointAt()`æ–¹æ³•å¯ä»¥ä»æŒ‡å®šç å…ƒä½ç½®è¯†åˆ«å®Œæ•´çš„ç ç‚¹ã€‚

```javascript
let message = 'abğŸ˜Šde'
console.log(message.codePointAt(1)) // 98
console.log(message.codePointAt(2)) // 128522
console.log(message.codePointAt(3)) // 56842
console.log(message.codePointAt(4)) // 100
```

:::tip æ³¨æ„
å¦‚æœä¼ å…¥çš„ç å…ƒç´¢å¼•å¹¶éä»£ç†å¯¹çš„å¼€å¤´ï¼Œå°±ä¼šè¿”å›é”™è¯¯çš„ç ç‚¹ã€‚è¿™ç§é”™è¯¯åªæœ‰æ£€æµ‹å•ä¸ªå­—ç¬¦çš„æ—¶å€™æ‰ä¼šå‡ºç°ï¼Œå¯ä»¥é€šè¿‡ä»å·¦åˆ°å³æŒ‰æ­£ç¡®çš„ç å…ƒæ•°éå†å­—ç¬¦ä¸²æ¥è§„é¿ã€‚è¿­ä»£å­—ç¬¦ä¸²å¯ä»¥æ™ºèƒ½åœ°è¯†åˆ«ä»£ç†å¯¹çš„ç ç‚¹ï¼š

```javascript
console.log([...'abğŸ˜Šde']) // [ 'a', 'b', 'ğŸ˜Š', 'd', 'e' ]
```

:::

ä¸ `charCodeAt()`æœ‰å¯¹åº”çš„ `codePointAt()`ä¸€æ ·ï¼Œ`fromCharCode()`ä¹Ÿæœ‰ä¸€ä¸ªå¯¹åº”çš„ `fromCodePoint()`ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä»»æ„æ•°é‡çš„ç ç‚¹ï¼Œè¿”å›å¯¹åº”å­—ç¬¦æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ï¼š

```javascript
console.log(String.fromCharCode(97, 98, 55357, 56842, 100, 101)) // 'abğŸ˜Šde'
console.log(String.fromCodePoint(97, 98, 128522, 100, 101)) // 'abğŸ˜Šde'
```

#### 2ï¼normalize()æ–¹æ³•

```javascript
// U+00C5ï¼šä¸Šé¢å¸¦åœ†åœˆçš„å¤§å†™æ‹‰ä¸å­—æ¯A
console.log(String.fromCharCode(0x00c5)) // Ã…
// U+212Bï¼šé•¿åº¦å•ä½â€œåŸƒâ€
console.log(String.fromCharCode(0x212b)) // Ã…
// U+004ï¼šå¤§å†™æ‹‰ä¸å­—æ¯A
// U+030Aï¼šä¸Šé¢åŠ ä¸ªåœ†åœˆ
console.log(String.fromCharCode(0x0041, 0x030a)) // Ã…
```

æ¯”è¾ƒæ“ä½œç¬¦ä¸åœ¨ä¹å­—ç¬¦çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå› æ­¤è¿™ 3 ä¸ªå­—ç¬¦äº’ä¸ç›¸ç­‰ã€‚

```javascript
let a1 = String.fromCharCode(0x00c5),
  a2 = String.fromCharCode(0x212b),
  a3 = String.fromCharCode(0x0041, 0x030a)
console.log(a1, a2, a3) // Ã…, Ã…, Ã…
console.log(a1 === a2) // false
console.log(a1 === a3) // false
console.log(a2 === a3) // false
```

ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒUnicode æä¾›äº† 4 ç§è§„èŒƒåŒ–å½¢å¼ï¼Œå¯ä»¥å°†ç±»ä¼¼ä¸Šé¢çš„å­—ç¬¦è§„èŒƒåŒ–ä¸ºä¸€è‡´çš„æ ¼å¼ï¼Œæ— è®ºåº•å±‚å­—ç¬¦çš„ä»£ç æ˜¯ä»€ä¹ˆã€‚è¿™ 4 ç§è§„èŒƒåŒ–å½¢å¼æ˜¯ï¼šNFDï¼ˆNormalization Form Dï¼‰â€‹ã€NFCï¼ˆNormalization Form Cï¼‰â€‹ã€NFKDï¼ˆNormalization Form KDï¼‰å’Œ NFKCï¼ˆNormalization Form KCï¼‰â€‹ã€‚å¯ä»¥ä½¿ç”¨ normalize()æ–¹æ³•å¯¹å­—ç¬¦ä¸²åº”ç”¨ä¸Šè¿°è§„èŒƒåŒ–å½¢å¼ï¼Œä½¿ç”¨æ—¶éœ€è¦ä¼ å…¥è¡¨ç¤ºå“ªç§å½¢å¼çš„å­—ç¬¦ä¸²ï¼š"NFD"ã€"NFC"ã€"NFKD"æˆ–"NFKC"ã€‚

é€šè¿‡æ¯”è¾ƒå­—ç¬¦ä¸²ä¸å…¶è°ƒç”¨ normalize()çš„è¿”å›å€¼ï¼Œå°±å¯ä»¥çŸ¥é“è¯¥å­—ç¬¦ä¸²æ˜¯å¦å·²ç»è§„èŒƒåŒ–äº†ï¼š

```javascript
let a1 = String.fromCharCode(0x00c5),
  a2 = String.fromCharCode(0x212b),
  a3 = String.fromCharCode(0x0041, 0x030a)
// U+00C5 æ˜¯å¯¹ 0+212B è¿›è¡Œ NFC/NFKC è§„èŒƒåŒ–ä¹‹åçš„ç»“æœ
console.log(a1 === a1.normalize('NFD')) // false
console.log(a1 === a1.normalize('NFC')) // true
console.log(a1 === a1.normalize('NFKD')) // false
console.log(a1 === a1.normalize('NFKC')) // true

// U+212B æ˜¯æœªè§„èŒƒåŒ–çš„
console.log(a2 === a2.normalize('NFD')) // false
console.log(a2 === a2.normalize('NFC')) // false
console.log(a2 === a2.normalize('NFKD')) // false
console.log(a2 === a2.normalize('NFKC')) // false

// U+0041/U+030A æ˜¯å¯¹ 0+212B è¿›è¡Œ NFD/NFKD è§„èŒƒåŒ–ä¹‹åçš„ç»“æœ
console.log(a3 === a3.normalize('NFD')) // true
console.log(a3 === a3.normalize('NFC')) // false
console.log(a3 === a3.normalize('NFKD')) // true
console.log(a3 === a3.normalize('NFKC')) // false
```

é€‰æ‹©åŒä¸€ç§è§„èŒƒåŒ–å½¢å¼å¯ä»¥è®©æ¯”è¾ƒæ“ä½œç¬¦è¿”å›æ­£ç¡®çš„ç»“æœï¼š

```javascript
let a1 = String.fromCharCode(0x00c5),
  a2 = String.fromCharCode(0x212b),
  a3 = String.fromCharCode(0x0041, 0x030a)
console.log(a1.normalize('NFD') === a2.normalize('NFD')) // true
console.log(a2.normalize('NFKC') === a3.normalize('NFKC')) // true
console.log(a1.normalize('NFC') === a3.normalize('NFC')) // true
```

#### 3ï¼å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•

`concat()`ç”¨äºå°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ¥æ”¶ä»»æ„å¤šä¸ªå‚æ•°ï¼ŒåŸå­—ç¬¦ä¸²ä¸æ”¹å˜ã€‚

```javascript
let stringValue = 'hello '
let result = stringValue.concat('world', '!')
console.log(result) // 'hello world!'
console.log(stringValue) // 'hello '
```

ECMAScript æä¾›äº† 3 ä¸ªä»å­—ç¬¦ä¸²ä¸­æå–å­å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š`slice()`ã€`substr()`å’Œ `substring()`ã€‚è¿™ 3 ä¸ªæ–¹æ³•éƒ½è¿”å›è°ƒç”¨å®ƒä»¬çš„å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œè€Œä¸”éƒ½æ¥æ”¶ä¸€æˆ–ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå­å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå­å­—ç¬¦ä¸²ç»“æŸçš„ä½ç½®ã€‚å¯¹ `slice()`å’Œ `substring()`è€Œè¨€ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æå–ç»“æŸçš„ä½ç½®ï¼ˆå³è¯¥ä½ç½®ä¹‹å‰çš„å­—ç¬¦ä¼šè¢«æå–å‡ºæ¥ï¼‰â€‹ã€‚å¯¹ `substr()`è€Œè¨€ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¿”å›çš„å­å­—ç¬¦ä¸²æ•°é‡ã€‚ä»»ä½•æƒ…å†µä¸‹ï¼Œçœç•¥ç¬¬äºŒä¸ªå‚æ•°éƒ½æ„å‘³ç€æå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚ä¸ `concat()`æ–¹æ³•ä¸€æ ·ï¼Œ`slice()`ã€`substr()`å’Œ `substring()`ä¹Ÿä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒä»¬çš„å­—ç¬¦ä¸²ï¼Œè€Œåªä¼šè¿”å›æå–åˆ°çš„åŸå§‹æ–°å­—ç¬¦ä¸²å€¼ã€‚

`substr()` å·²å¼ƒç”¨ã€‚

```javascript
let stringValue = 'hello world'
console.log(stringValue.slice(3)) // 'lo world'
console.log(stringValue.substring(3)) // 'lo world'
console.log(stringValue.substr(3)) // 'lo world'
console.log(stringValue.slice(3, 7)) // 'lo w'
console.log(stringValue.substring(3, 7)) // 'lo w'
console.log(stringValue.substr(3, 7)) // 'lo worl'
```

å½“æŸä¸ªå‚æ•°æ˜¯è´Ÿå€¼æ—¶ï¼Œè¿™ 3 ä¸ªæ–¹æ³•çš„è¡Œä¸ºåˆæœ‰ä¸åŒã€‚æ¯”å¦‚ï¼Œ`slice()`æ–¹æ³•å°†æ‰€æœ‰è´Ÿå€¼å‚æ•°éƒ½å½“æˆå­—ç¬¦ä¸²é•¿åº¦åŠ ä¸Šè´Ÿå‚æ•°å€¼ã€‚è€Œ `substr()`æ–¹æ³•å°†ç¬¬ä¸€ä¸ªè´Ÿå‚æ•°å€¼å½“æˆå­—ç¬¦ä¸²é•¿åº¦åŠ ä¸Šè¯¥å€¼ï¼Œå°†ç¬¬äºŒä¸ªè´Ÿå‚æ•°å€¼è½¬æ¢ä¸º 0ã€‚`substring()`æ–¹æ³•ä¼šå°†æ‰€æœ‰è´Ÿå‚æ•°å€¼éƒ½è½¬æ¢ä¸º 0ã€‚

```javascript
let stringValue = 'hello world'
console.log(stringValue.slice(-3)) // 'rld'
console.log(stringValue.substring(-3)) // 'hello world'
console.log(stringValue.substr(-3)) // 'rld'
console.log(stringValue.slice(3, -4)) // 'lo w'
console.log(stringValue.substring(3, -4)) // 'hel'
console.log(stringValue.substr(3, -4)) // '' (empty string)
```

#### 4ï¼å­—ç¬¦ä¸²ä½ç½®æ–¹æ³•

æœ‰ä¸¤ä¸ªæ–¹æ³•ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­å®šä½å­å­—ç¬¦ä¸²ï¼š`indexOf()`å’Œ `lastIndexOf()`ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•ä»å­—ç¬¦ä¸²ä¸­æœç´¢ä¼ å…¥çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä½ç½®ï¼ˆå¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™è¿”å› -1ï¼‰â€‹ã€‚ä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼Œ`indexOf()`æ–¹æ³•ä»å­—ç¬¦ä¸²å¼€å¤´å¼€å§‹æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œè€Œ `lastIndexOf()`æ–¹æ³•ä»å­—ç¬¦ä¸²æœ«å°¾å¼€å§‹æŸ¥æ‰¾å­å­—ç¬¦ä¸²ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ¥æ”¶å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚

#### 5ï¼å­—ç¬¦ä¸²åŒ…å«æ–¹æ³•

ECMAScript 6 å¢åŠ äº† 3 ä¸ªç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š`startsWith()`ã€`endsWith()`å’Œ `includes()`ã€‚

`startsWith()`å’Œ `includes()`æ–¹æ³•æ¥æ”¶å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚

`endsWith()`æ–¹æ³•æ¥æ”¶å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºåº”è¯¥å½“ä½œå­—ç¬¦ä¸²æœ«å°¾çš„ä½ç½®ã€‚

```javascript
let message = 'foobarbaz'
console.log(message.startsWith('foo')) // true
console.log(message.startsWith('foo', 1)) // false
console.log(message.includes('bar')) // true
console.log(message.includes('bar', 4)) // false
console.log(message.endsWith('bar')) // false
console.log(message.endsWith('bar', 6)) // true
```

#### 6ï¼trim()æ–¹æ³•

`trim()`æ–¹æ³•ä¼šåˆ›å»ºå­—ç¬¦ä¸²çš„ä¸€ä¸ªå‰¯æœ¬(åŸå§‹å­—ç¬¦ä¸²ä¸å—å½±å“)ï¼Œåˆ é™¤å‰ã€åæ‰€æœ‰ç©ºæ ¼ç¬¦ï¼Œå†è¿”å›ç»“æœ

`trimLeft()`å’Œ `trimRight()`æ–¹æ³•åˆ†åˆ«ç”¨äºä»å­—ç¬¦ä¸²å¼€å§‹å’Œæœ«å°¾æ¸…ç†ç©ºæ ¼ç¬¦ã€‚

#### 7ï¼repeat()æ–¹æ³•

`repeat()`æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ•´æ•°å‚æ•°ï¼Œè¡¨ç¤ºè¦å°†å­—ç¬¦ä¸²å¤åˆ¶å¤šå°‘æ¬¡ï¼Œç„¶åè¿”å›æ‹¼æ¥æ‰€æœ‰å‰¯æœ¬åçš„ç»“æœã€‚

#### 8ï¼padStart()å’Œ padEnd()æ–¹æ³•

`padStart()`å’Œ `padEnd()`æ–¹æ³•ä¼šå¤åˆ¶å­—ç¬¦ä¸²ï¼Œå¦‚æœå°äºæŒ‡å®šé•¿åº¦ï¼Œåˆ™åœ¨ç›¸åº”ä¸€è¾¹å¡«å……å­—ç¬¦ï¼Œç›´è‡³æ»¡è¶³é•¿åº¦æ¡ä»¶ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„å¡«å……å­—ç¬¦ä¸²ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ï¼ˆU+0020ï¼‰ã€‚

å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°å¹¶ä¸é™äºä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœæä¾›äº†å¤šä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå°†å…¶æ‹¼æ¥å¹¶æˆªæ–­ä»¥åŒ¹é…æŒ‡å®šé•¿åº¦ã€‚æ­¤å¤–ï¼Œå¦‚æœé•¿åº¦å°äºæˆ–ç­‰äºå­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™ä¼šè¿”å›åŸå§‹å­—ç¬¦ä¸²ã€‚

```javascript
let stringValue = 'foo'
console.log(stringValue.padStart(8, 'bar')) // 'barbafoo'
console.log(stringValue.padStart(2)) // 'foo'
console.log(stringValue.padEnd(8, 'bar')) // 'foobarba'
console.log(stringValue.padEnd(2)) // 'foo'
```

#### 9ï¼å­—ç¬¦ä¸²è¿­ä»£ä¸è§£æ„

å­—ç¬¦ä¸²çš„åŸå‹ä¸Šæš´éœ²äº†ä¸€ä¸ª `@@iterator` æ–¹æ³•ï¼Œè¡¨ç¤ºå¯ä»¥è¿­ä»£å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ã€‚å¯ä»¥åƒä¸‹é¢è¿™æ ·æ‰‹åŠ¨ä½¿ç”¨è¿­ä»£å™¨ï¼š

```javascript
let message = 'abc'
let stringIterator = message[Symbol.iterator]()
console.log(stringIterator.next()) // { value: 'a', done: false }
console.log(stringIterator.next()) // { value: 'b', done: false }
console.log(stringIterator.next()) // { value: 'c', done: false }
console.log(stringIterator.next()) // { value: undefined, done: true }
```

åœ¨ `for-of` å¾ªç¯ä¸­å¯ä»¥é€šè¿‡è¿™ä¸ªè¿­ä»£å™¨æŒ‰åºè®¿é—®æ¯ä¸ªå­—ç¬¦ã€‚æœ‰äº†è¿™ä¸ªè¿­ä»£å™¨ä¹‹åï¼Œå­—ç¬¦ä¸²å°±å¯ä»¥é€šè¿‡è§£æ„æ“ä½œç¬¦æ¥è§£æ„äº†ã€‚

#### 10ï¼å­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢

å¤§å°å†™è½¬æ¢åŒ…æ‹¬ 4 ä¸ªæ–¹æ³•ï¼š`toLowerCase()`ã€`toLocaleLowerCase()`ã€`toUpperCase()`å’Œ `toLocaleUpperCase()`ã€‚

#### 11ï¼å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…æ–¹æ³•

`String` ç±»å‹ä¸“é—¨ä¸ºåœ¨å­—ç¬¦ä¸²ä¸­å®ç°æ¨¡å¼åŒ¹é…è®¾è®¡äº†å‡ ä¸ªæ–¹æ³•ã€‚ç¬¬ä¸€ä¸ªå°±æ˜¯ `match()`æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æœ¬è´¨ä¸Šè·Ÿ `RegExp` å¯¹è±¡çš„ `exec()`æ–¹æ³•ç›¸åŒã€‚`match()`æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª `RegExp` å¯¹è±¡ã€‚

```javascript
let text = 'cat, bat, sat, fat'
let pattern = /.at/
// ç­‰ä»·äºpattern.exec(text)
let matches = text.match(pattern)
console.log(matches.index) // 0
console.log(matches[0]) // 'cat'
console.log(pattern.lastIndex) // 0
```

å¦ä¸€ä¸ªæŸ¥æ‰¾æ¨¡å¼çš„å­—ç¬¦ä¸²æ–¹æ³•æ˜¯ `search()`ã€‚è¿™ä¸ªæ–¹æ³•å”¯ä¸€çš„å‚æ•°ä¸ `match()`æ–¹æ³•ä¸€æ ·ï¼šæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²æˆ– `RegExp` å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›æ¨¡å¼ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®ç´¢å¼•ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› -1ã€‚`search()`å§‹ç»ˆä»å­—ç¬¦ä¸²å¼€å¤´å‘ååŒ¹é…æ¨¡å¼ã€‚

```javascript
let text = 'cat, bat, sat, fat'
let pos = text.search(/at/)
console.log(pos) // 1
```

ä¸ºç®€åŒ–å­å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œï¼ŒECMAScript æä¾›äº† `replace()`æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ª `RegExp` å¯¹è±¡æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆè¿™ä¸ªå­—ç¬¦ä¸²ä¸ä¼šè½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼‰â€‹ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆåªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚è¦æƒ³æ›¿æ¢æ‰€æœ‰å­å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¹¶ä¸”å¸¦å…¨å±€æ ‡è®°ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼š

```javascript
let text = 'cat, bat, sat, fat'
let result = text.replace('at', 'ond')
console.log(result) // 'cond, bat, sat, fat'
result = text.replace(/at/g, 'ond')
console.log(result) // 'cond, bond, sond, fond'
```

ç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²çš„æƒ…å†µä¸‹ï¼Œæœ‰å‡ ä¸ªç‰¹æ®Šçš„å­—ç¬¦åºåˆ—ï¼Œå¯ä»¥ç”¨æ¥æ’å…¥æ­£åˆ™è¡¨è¾¾å¼æ“ä½œçš„å€¼ã€‚ECMA-262 ä¸­è§„å®šäº†ä¸‹è¡¨ä¸­çš„å€¼ã€‚

|   æ¨¡å¼   | æ’å…¥å€¼                                                              |
| :------: | :------------------------------------------------------------------ |
|   `$$`   | æ’å…¥ä¸€ä¸ª `"$"`ã€‚                                                    |
|   `$&`   | æ’å…¥åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚                                                |
| `` $` `` | æ’å…¥åŒ¹é…å­å­—ç¬¦ä¸²ä¹‹å‰çš„å­—ç¬¦ä¸²ç‰‡æ®µã€‚                                  |
|   `$'`   | æ’å…¥åŒ¹é…å­å­—ç¬¦ä¸²ä¹‹åçš„å­—ç¬¦ä¸²ç‰‡æ®µã€‚                                  |
|   `$n`   | æ’å…¥ç¬¬ `n`ï¼ˆç´¢å¼•ä» 1 å¼€å§‹ï¼‰ä¸ªæ•è·ç»„ï¼Œå…¶ä¸­ `n` æ˜¯å°äº 100 çš„æ­£æ•´æ•°ã€‚ |
|   `$`    | æ’å…¥åç§°ä¸º `Name` çš„å‘½åæ•è·ç»„ã€‚                                    |

```javascript
let text = 'cat, bat, sat, fat'
result = text.replace(/(.at)/g, 'word($1)')
console.log(result) // 'word(cat), word(bat), word(sat), word(fat)'
```

`replace()`çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚åœ¨åªæœ‰ä¸€ä¸ªåŒ¹é…é¡¹æ—¶ï¼Œè¿™ä¸ªå‡½æ•°ä¼šæ”¶åˆ° 3 ä¸ªå‚æ•°ï¼šä¸æ•´ä¸ªæ¨¡å¼åŒ¹é…çš„å­—ç¬¦ä¸²ã€åŒ¹é…é¡¹åœ¨å­—ç¬¦ä¸²ä¸­çš„å¼€å§‹ä½ç½®ï¼Œä»¥åŠæ•´ä¸ªå­—ç¬¦ä¸²ã€‚åœ¨æœ‰å¤šä¸ªæ•è·ç»„çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªåŒ¹é…æ•è·ç»„çš„å­—ç¬¦ä¸²ä¹Ÿä¼šä½œä¸ºå‚æ•°ä¼ ç»™è¿™ä¸ªå‡½æ•°ï¼Œä½†æœ€åä¸¤ä¸ªå‚æ•°è¿˜æ˜¯ä¸æ•´ä¸ªæ¨¡å¼åŒ¹é…çš„å¼€å§‹ä½ç½®å’ŒåŸå§‹å­—ç¬¦ä¸²ã€‚è¿™ä¸ªå‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºåº”è¯¥æŠŠåŒ¹é…é¡¹æ›¿æ¢æˆä»€ä¹ˆã€‚

```javascript
function htmlEscape(text) {
  return text.replace(/[<>"&]/g, function (match, pos, originalText) {
    switch (match) {
      case '<':
        return '&lt; '
      case '>':
        return '&gt; '
      case '&':
        return '&amp; '
      case '"':
        return '&quot; '
    }
  })
}
console.log(htmlEscape('<p class="greeting">Hello world! </p>')) // '&lt; p class=&quot; greeting&quot; &gt; Hello world! &lt; /p&gt; '
```

`split()`æ–¹æ³•ä¼šæ ¹æ®ä¼ å…¥çš„åˆ†éš”ç¬¦å°†å­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„ã€‚ä½œä¸ºåˆ†éš”ç¬¦çš„å‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ `RegExp` å¯¹è±¡ã€‚â€‹ï¼ˆå­—ç¬¦ä¸²åˆ†éš”ç¬¦ä¸ä¼šè¢«è¿™ä¸ªæ–¹æ³•å½“æˆæ­£åˆ™è¡¨è¾¾å¼ã€‚â€‹ï¼‰è¿˜å¯ä»¥ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œå³æ•°ç»„å¤§å°ï¼Œç¡®ä¿è¿”å›çš„æ•°ç»„ä¸ä¼šè¶…è¿‡æŒ‡å®šå¤§å°ã€‚

```javascript
let colorText = 'red, blue, green, yellow'
console.log(colorText.split(', ')) // [ 'red', 'blue', 'green', 'yellow' ]
console.log(colorText.split(', ', 2)) // [ 'red', 'blue' ]
console.log(colorText.split(/[^, ]+/)) // [ '', ', ', ', ', ', ', '' ]
```

#### 12ï¼localeCompare()æ–¹æ³•

`localeCompare()`æ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å¦‚ä¸‹ 3 ä¸ªå€¼ä¸­çš„ä¸€ä¸ªã€‚

â‘ å¦‚æœæŒ‰ç…§å­—æ¯è¡¨é¡ºåºï¼Œå¼•ç”¨å­—ç¬¦ä¸²åº”è¯¥æ’åœ¨æ¯”è¾ƒå­—ç¬¦ä¸²å‚æ•°å‰å¤´ï¼Œåˆ™è¿”å›è´Ÿå€¼ã€‚â€‹ï¼ˆé€šå¸¸æ˜¯ -1ï¼Œå…·ä½“è¿˜è¦çœ‹ä¸å®é™…å€¼ç›¸å…³çš„å®ç°ã€‚â€‹ï¼‰<br />
â‘ å¦‚æœå¼•ç”¨å­—ç¬¦ä¸²ä¸æ¯”è¾ƒå­—ç¬¦ä¸²å‚æ•°ç›¸ç­‰ï¼Œåˆ™è¿”å› 0ã€‚<br />
â‘ å¦‚æœæŒ‰ç…§å­—æ¯è¡¨é¡ºåºï¼Œå¼•ç”¨å­—ç¬¦ä¸²åº”è¯¥æ’åœ¨æ¯”è¾ƒå­—ç¬¦ä¸²å‚æ•°åå¤´ï¼Œåˆ™è¿”å›æ­£å€¼ã€‚â€‹ï¼ˆé€šå¸¸æ˜¯ 1ï¼Œå…·ä½“è¿˜è¦çœ‹ä¸å®é™…å€¼ç›¸å…³çš„å®ç°ã€‚â€‹ï¼‰

```javascript
let stringValue = 'yellow'
console.log(stringValue.localeCompare('brick')) // 1
console.log(stringValue.localeCompare('yellow')) // 0
console.log(stringValue.localeCompare('zoo')) // -1
```

#### 13ï¼HTML æ–¹æ³•

## 5.4 å•ä¾‹å†…ç½®å¯¹è±¡

### 5.4.1 Global

åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆ Global å¯¹è±¡çš„å±æ€§ã€‚

#### 1ï¼URL ç¼–ç æ–¹æ³•

`encodeURI()`å’Œ `encodeURIComponent()`æ–¹æ³•ç”¨äºç¼–ç ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰â€‹ï¼Œä»¥ä¾¿ä¼ ç»™æµè§ˆå™¨ã€‚æœ‰æ•ˆçš„ URI ä¸èƒ½åŒ…å«æŸäº›å­—ç¬¦ï¼Œæ¯”å¦‚ç©ºæ ¼ã€‚ä½¿ç”¨ URI ç¼–ç æ–¹æ³•æ¥ç¼–ç  URI å¯ä»¥è®©æµè§ˆå™¨èƒ½å¤Ÿç†è§£å®ƒä»¬ï¼ŒåŒæ—¶åˆä»¥ç‰¹æ®Šçš„ UTF-8 ç¼–ç æ›¿æ¢æ‰æ‰€æœ‰æ— æ•ˆå­—ç¬¦ã€‚

`ecnodeURI()`æ–¹æ³•ç”¨äºå¯¹æ•´ä¸ª URI è¿›è¡Œç¼–ç ï¼Œæ¯”å¦‚"www.wrox.com/illegal value.js"ã€‚è€Œ `encodeURIComponent()`æ–¹æ³•ç”¨äºç¼–ç  URI ä¸­å•ç‹¬çš„ç»„ä»¶ï¼Œæ¯”å¦‚å‰é¢ URL ä¸­çš„"illegal value.js"ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œ`encodeURI()`ä¸ä¼šç¼–ç å±äº URL ç»„ä»¶çš„ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚å†’å·ã€æ–œæ ã€é—®å·ã€äº•å·ï¼Œè€Œ `encodeURIComponent()`ä¼šç¼–ç å®ƒå‘ç°çš„æ‰€æœ‰éæ ‡å‡†å­—ç¬¦ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š

```javascript
let uri = 'http://www.wrox.com/illegal value.js#start'
console.log(encodeURI(uri)) // 'http://www.wrox.com/illegal%20value.js#start'
console.log(encodeURIComponent(uri)) // 'http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.js%23start'
```

ä¸ `encodeURI()`å’Œ `encodeURIComponent()`ç›¸å¯¹çš„æ˜¯ `decodeURI()`å’Œ `decodeURIComponent()`ã€‚

#### 2ï¼eval()æ–¹æ³•

å½“è§£é‡Šå™¨å‘ç° `eval()`è°ƒç”¨æ—¶ï¼Œä¼šå°†å‚æ•°è§£é‡Šä¸ºå®é™…çš„ ECMAScript è¯­å¥ï¼Œç„¶åå°†å…¶æ’å…¥åˆ°è¯¥ä½ç½®ã€‚é€šè¿‡ `eval()`æ‰§è¡Œçš„ä»£ç å±äºè¯¥è°ƒç”¨æ‰€åœ¨ä¸Šä¸‹æ–‡ï¼Œè¢«æ‰§è¡Œçš„ä»£ç ä¸è¯¥ä¸Šä¸‹æ–‡æ‹¥æœ‰ç›¸åŒçš„ä½œç”¨åŸŸé“¾ã€‚è¿™æ„å‘³ç€å®šä¹‰åœ¨åŒ…å«ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯ä»¥åœ¨ `eval()`è°ƒç”¨å†…éƒ¨è¢«å¼•ç”¨ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š

```javascript
let msg = 'hello world'
eval('console.log(msg)') // hello world
```

é€šè¿‡ `eval()`å®šä¹‰çš„ä»»ä½•å˜é‡å’Œå‡½æ•°éƒ½ä¸ä¼šè¢«æå‡ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è§£æä»£ç çš„æ—¶å€™ï¼Œå®ƒä»¬æ˜¯è¢«åŒ…å«åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ã€‚å®ƒä»¬åªæ˜¯åœ¨ `eval()`æ‰§è¡Œçš„æ—¶å€™æ‰ä¼šè¢«åˆ›å»ºã€‚

åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨ `eval()`å†…éƒ¨åˆ›å»ºçš„å˜é‡å’Œå‡½æ•°æ— æ³•è¢«å¤–éƒ¨è®¿é—®ã€‚åŒæ ·ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œèµ‹å€¼ç»™ `eval` ä¹Ÿä¼šå¯¼è‡´é”™è¯¯ã€‚

#### 3ï¼Global å¯¹è±¡å±æ€§

#### 4ï¼window å¯¹è±¡

è™½ç„¶ ECMA-262 æ²¡æœ‰è§„å®šç›´æ¥è®¿é—® Global å¯¹è±¡çš„æ–¹å¼ï¼Œä½†æµè§ˆå™¨å°† window å¯¹è±¡å®ç°ä¸º Global å¯¹è±¡çš„ä»£ç†ã€‚å› æ­¤ï¼Œæ‰€æœ‰å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡å’Œå‡½æ•°éƒ½å˜æˆäº† window çš„å±æ€§ã€‚

```javascript
var color = 'red'
function sayColor() {
  console.log(window.color)
}
window.sayColor() // 'red'
```

å¦ä¸€ç§è·å– Global å¯¹è±¡çš„æ–¹å¼æ˜¯ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç ï¼š

```javascript
let global = (function () {
  return this
})()
```

### 5.4.2 Math

#### 1ï¼Math å¯¹è±¡å±æ€§

`Math` å¯¹è±¡æœ‰ä¸€äº›å±æ€§ï¼Œä¸»è¦ç”¨äºä¿å­˜æ•°å­¦ä¸­çš„ä¸€äº›ç‰¹æ®Šå€¼ã€‚

|     å±æ€§     |                              è¯´æ˜                              |
| :----------: | :------------------------------------------------------------: |
|    Math.E    |             æ¬§æ‹‰æ•°ï¼Œå³è‡ªç„¶å¯¹æ•°çš„åº•æ•°ï¼Œçº¦ç­‰äº 2.718             |
|   Math.LN2   |                  2 çš„è‡ªç„¶å¯¹æ•°ï¼Œçº¦ç­‰äº 0.693ã€‚                  |
|  Math.LN10   |                 10 çš„è‡ªç„¶å¯¹æ•°ï¼Œçº¦ç­‰äº 2.303ã€‚                  |
|  Math.LOG2E  |              ä»¥ 2 ä¸ºåº•çš„ E çš„å¯¹æ•°ï¼Œçº¦ç­‰äº 1.443ã€‚              |
| Math.LOG10E  |             ä»¥ 10 ä¸ºåº•çš„ E çš„å¯¹æ•°ï¼Œçº¦ç­‰äº 0.434ã€‚              |
|   Math.PI    |        åœ†å‘¨ç‡ï¼Œä¸€ä¸ªåœ†çš„å‘¨é•¿å’Œç›´å¾„ä¹‹æ¯”ï¼Œçº¦ç­‰äº 3.14159ã€‚        |
| Math.SQRT1_2 | äºŒåˆ†ä¹‹ä¸€ Â½ çš„å¹³æ–¹æ ¹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ 2 çš„å¹³æ–¹æ ¹çš„å€’æ•°ï¼Œçº¦ç­‰äº 0.707ã€‚ |
|  Math.SQRT2  |                   2 çš„å¹³æ–¹æ ¹ï¼Œçº¦ç­‰äº 1.414ã€‚                   |

#### 2ï¼min()å’Œ max()æ–¹æ³•

`min()`å’Œ `max()`æ–¹æ³•ç”¨äºç¡®å®šä¸€ç»„æ•°å€¼ä¸­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚

```javascript
let max = Math.max(3, 54, 32, 16)
console.log(max) // 54
let min = Math.min(3, 54, 32, 16)
console.log(min) // 3
```

:::details å¦‚ä½•è·å–æ•°ç»„ä¸­æœ€å¤§çš„æ•°

```javascript
const arr = [1, 2, 3, 45]
console.log(Math.max(...arr))
```

:::

#### 3ï¼èˆå…¥æ–¹æ³•

â‘ `Math.ceil()`æ–¹æ³•å§‹ç»ˆå‘ä¸Šèˆå…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ã€‚<br />
â‘ `Math.floor()`æ–¹æ³•å§‹ç»ˆå‘ä¸‹èˆå…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ã€‚<br />
â‘ `Math.round()`æ–¹æ³•æ‰§è¡Œå››èˆäº”å…¥ã€‚<br />
â‘ `Math.fround()`æ–¹æ³•è¿”å›æ•°å€¼æœ€æ¥è¿‘çš„å•ç²¾åº¦ï¼ˆ32 ä½ï¼‰æµ®ç‚¹å€¼è¡¨ç¤ºã€‚

#### 4ï¼random()æ–¹æ³•

`Math.random()`æ–¹æ³•è¿”å›ä¸€ä¸ª 0~1 èŒƒå›´å†…çš„éšæœºæ•°ï¼Œå…¶ä¸­åŒ…å« 0 ä½†ä¸åŒ…å« 1ã€‚

`Math.random()`æ–¹æ³•åœ¨è¿™é‡Œå‡ºäºæ¼”ç¤ºç›®çš„æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚å¦‚æœæ˜¯ä¸ºäº†åŠ å¯†è€Œéœ€è¦ç”Ÿæˆéšæœºæ•°ï¼ˆä¼ ç»™ç”Ÿæˆå™¨çš„è¾“å…¥éœ€è¦è¾ƒé«˜çš„ä¸ç¡®å®šæ€§ï¼‰â€‹ï¼Œé‚£ä¹ˆå»ºè®®ä½¿ç”¨`window.crypto.getRandomValues()`ã€‚

#### 5ï¼å…¶ä»–æ–¹æ³•

|           æ–¹æ³•            |                                          è¯´æ˜                                          |
| :-----------------------: | :------------------------------------------------------------------------------------: |
|        Math.abs(x)        |                                  è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚                                  |
|       Math.acos(x)        |                                 è¿”å›ä¸€ä¸ªæ•°çš„åä½™å¼¦å€¼ã€‚                                 |
|       Math.acosh(x)       |                               è¿”å›ä¸€ä¸ªæ•°çš„ååŒæ›²ä½™å¼¦å€¼ã€‚                               |
|       Math.asin(x)        |                                 è¿”å›ä¸€ä¸ªæ•°çš„åæ­£å¼¦å€¼ã€‚                                 |
|       Math.asinh(x)       |                               è¿”å›ä¸€ä¸ªæ•°çš„ååŒæ›²æ­£å¼¦å€¼ã€‚                               |
|       Math.atan(x)        |                                 è¿”å›ä¸€ä¸ªæ•°çš„åæ­£åˆ‡å€¼ã€‚                                 |
|       Math.atanh(x)       |                               è¿”å›ä¸€ä¸ªæ•°çš„ååŒæ›²æ­£åˆ‡å€¼ã€‚                               |
|     Math.atan2(y, x)      |                                 è¿”å› y/x çš„åæ­£åˆ‡å€¼ã€‚                                  |
|       Math.cbrt(x)        |                                  è¿”å›ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹ã€‚                                  |
|       Math.clz32(x)       |                           è¿”å›ä¸€ä¸ª 32 ä½æ•´æ•°çš„å‰å¯¼é›¶çš„æ•°é‡ã€‚                           |
|        Math.cos(x)        |                                  è¿”å›ä¸€ä¸ªæ•°çš„ä½™å¼¦å€¼ã€‚                                  |
|       Math.cosh(x)        |                                è¿”å›ä¸€ä¸ªæ•°çš„åŒæ›²ä½™å¼¦å€¼ã€‚                                |
|        Math.exp(x)        | è¿”å›æ¬§æ‹‰å¸¸æ•°çš„å‚æ•°æ¬¡æ–¹ï¼ŒE^xï¼Œå…¶ä¸­ x ä¸ºå‚æ•°ï¼ŒE æ˜¯æ¬§æ‹‰å¸¸æ•°ï¼ˆ2.718...ï¼Œè‡ªç„¶å¯¹æ•°çš„åº•æ•°ï¼‰ã€‚ |
|       Math.expm1(x)       |                                 è¿”å› exp(x) - 1 çš„å€¼ã€‚                                 |
| Math.hypot([x[, y[, â€¦]]]) |                             è¿”å›å…¶æ‰€æœ‰å‚æ•°å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ã€‚                             |
|      Math.imul(x, y)      |                               è¿”å› 32 ä½æ•´æ•°ä¹˜æ³•çš„ç»“æœã€‚                               |
|        Math.log(x)        |                          è¿”å›ä¸€ä¸ªæ•°çš„è‡ªç„¶å¯¹æ•°ï¼ˆã’eï¼Œå³ ã‘ï¼‰ã€‚                          |
|       Math.log1p(x)       |                     è¿”å›ä¸€ä¸ªæ•°åŠ  1 çš„å’Œçš„è‡ªç„¶å¯¹æ•°ï¼ˆã’eï¼Œå³ ã‘ï¼‰ã€‚                      |
|       Math.log10(x)       |                             è¿”å›ä¸€ä¸ªæ•°ä»¥ 10 ä¸ºåº•æ•°çš„å¯¹æ•°ã€‚                             |
|       Math.log2(x)        |                             è¿”å›ä¸€ä¸ªæ•°ä»¥ 2 ä¸ºåº•æ•°çš„å¯¹æ•°ã€‚                              |
|      Math.pow(x, y)       |                                  è¿”å›ä¸€ä¸ªæ•°çš„ y æ¬¡å¹‚                                   |
|       Math.round(x)       |                                 è¿”å›å››èˆäº”å…¥åçš„æ•´æ•°ã€‚                                 |
|       Math.sign(x)        |                    è¿”å›ä¸€ä¸ªæ•°çš„ç¬¦å·ï¼Œå¾—çŸ¥ä¸€ä¸ªæ•°æ˜¯æ­£æ•°ã€è´Ÿæ•°è¿˜æ˜¯ 0ã€‚                    |
|        Math.sin(x)        |                                  è¿”å›ä¸€ä¸ªæ•°çš„æ­£å¼¦å€¼ã€‚                                  |
|       Math.sinh(x)        |                                è¿”å›ä¸€ä¸ªæ•°çš„åŒæ›²æ­£å¼¦å€¼ã€‚                                |
|       Math.sqrt(x)        |                                  è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹ã€‚                                  |
|        Math.tan(x)        |                                  è¿”å›ä¸€ä¸ªæ•°çš„æ­£åˆ‡å€¼ã€‚                                  |
|       Math.tanh(x)        |                                è¿”å›ä¸€ä¸ªæ•°çš„åŒæ›²æ­£åˆ‡å€¼ã€‚                                |
|      Math.toSource()      |                                  è¿”å›å­—ç¬¦ä¸² "Math"ã€‚                                   |
|       Math.trunc(x)       |                  è¿”å›ä¸€ä¸ªæ•°çš„æ•´æ•°éƒ¨åˆ†ï¼Œç›´æ¥å»é™¤å…¶å°æ•°ç‚¹åŠä¹‹åçš„éƒ¨åˆ†ã€‚                  |

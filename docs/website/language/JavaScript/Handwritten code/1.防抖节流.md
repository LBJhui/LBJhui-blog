# 防抖节流

防抖和节流都是希望在同一时间内，不要重复触发请求。一般场景用在搜索和网页滚动事件中。

## 函数节流

节流主要是在固定时间内只触发一次。比如每间隔 1 秒触发一次。

```javascript
function throttle(fn, delay) {
  let timer = null,
    begin = new Date().getTime()
  return function (...args) {
    let cur = new Date().getTime()
    clearTimeout(timer)
    if (cur - begin >= delay) {
      fn.apply(this, args)
      begin = cur
    } else {
      timer = setTimeout(() => {
        fn.apply(this, args)
      }, delay)
    }
  }
}
```

## 函数防抖

防抖主要是在规定时间内只触发一次，如果再次调用，时间从新计算。

```javascript
function debounce(fn, delay) {
  let timer = null
  return function (...args) {
    clearTimeout(timer)
    timer = setTimeout(() => {
      fn.apply(this, args)
    }, delay)
  }
}
```

```typescript
// 对防抖函数进行类型标注
declare function debounce<T extends any[]>(fn: (...args: T) => any, delay: number): (...args: T) => void
```
